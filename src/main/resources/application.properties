# src/main/resources/application.properties

# SERVIDOR LOCAL (SPRING)
server.port=8081

# Administración de Keycloak (se mapea a KeycloakProperties.adminRealm, etc.)
keycloak.admin.realm=master
keycloak.admin.username=admin
keycloak.admin.password=admin
keycloak.admin.client-id=admin-cli

# CONFIGURACIÓN GLOBAL DE KEYCLOAK
# URL base de Keycloak (donde está corriendo tu instancia)
keycloak.auth-server-url=http://localhost:8080
keycloak.single-realm-name=plexus

# Mapeo de Client IDs a Client Secrets (Client ID de Keycloak : Client Secret de Keycloak)
# Esto se mapeará a tu KeycloakProperties.clientSecrets
keycloak.client-secrets.plexus-app-client=secret-for-plexus
keycloak.client-secrets.inditex-client=secret-for-inditex
keycloak.client-secrets.mercadona=secret-for-mercadona

# Nuevo mapeo: Tenant ID de la URL : Client ID de Keycloak
# Esta sección está comentada porque no tiene un campo correspondiente en KeycloakProperties.
# Si lo necesitas, añade 'private Map<String, String> tenantClientMapping = new HashMap<>();' a KeycloakProperties.
# keycloak.tenant-client-mapping.plexus=plexus-app-client
# keycloak.tenant-client-mapping.inditex=inditex-client
# keycloak.tenant-client-mapping.mercadona=mercadona

# CONFIGURACIÓN BASE (TEMPLATE) OAUTH2
spring.security.oauth2.client.registration.keycloak.client-id=placeholder-client-id-base
# Si tus clientes son confidenciales, coloca un secret común aquí
spring.security.oauth2.client.registration.keycloak.client-secret=5LR8rwO0VLFpog0lCrxrODfxlwQEEj7g
spring.security.oauth2.client.registration.keycloak.authorization-grant-type=authorization_code
spring.security.oauth2.client.registration.keycloak.redirect-uri={baseUrl}/{realmName}/login/oauth2/code/{registrationId}
spring.security.oauth2.client.registration.keycloak.scope=openid,profile,email
spring.security.oauth2.client.provider.keycloak.issuer-uri=${keycloak.auth-server-url}/realms/{realmName}
spring.security.oauth2.client.provider.keycloak.user-name-attribute=preferred_username

# LOGGING PARA DEPURACIÓN
logging.level.org.springframework.security=DEBUG
logging.level.org.keycloak=DEBUG
logging.level.com.example.keycloakdemo=DEBUG
